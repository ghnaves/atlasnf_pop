---
title: "Célula População"
date: "`r Sys.Date()`"
bibliography: 'library.bib'
csl: 'abnt-geouffcampos.csl'
output:
  html_document:
    theme: cerulean
    #cosmo, cerulean, journal, flatly
    highlight: monochrome
    toc: true
    toc_float: false
    toc_depth: 5
    code_folding: hide
    css: styles.css
    df_print: kable
---

```{r setup, include=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library('tidyverse')
library('openxlsx')
library('readxl')
library('kableExtra')
library('scales')
library('here')

rm_temp<-function (pattern = "^temp_") {
  temp_objects <- grep(pattern, ls(envir = .GlobalEnv), value = TRUE)
  if (length(temp_objects) > 0) {
    rm(list = temp_objects, envir = .GlobalEnv)
  }
  invisible(NULL)
}

```

# Célula População

A população é fundamental para a compreensão da realidade social de qualquer território. Ela representa o denominador básico de todos os indicadores sociais, econômicos e ambientais. Nesse sentido, é indispensável conhecer a estrutura e dinâmica populacional para avaliar corretamente a distribuição de recursos, para a formulação de políticas públicas e para o planejamento urbano adequado. O objetivo principal dessa célula é a sistematizar e espacializar estimativas da população por município, desagregada por idade, sexo e situação de domicílio.


# A mesorregião Norte Fluminense

## População Absoluta

```{r}
pop_total_nf<-read_rds(here('data/processed','pop_total_nf.rds'))

temp_numeric<-list(
    pop1970=pop_total_nf[pop_total_nf$sit=='Total',"1970"]%>%pull(),
    pop2010=pop_total_nf[pop_total_nf$sit=='Total',"2010"]%>%pull(),
    pop2022=pop_total_nf[pop_total_nf$sit=='Total',"2022"]%>%pull(),
    urban2000=pop_total_nf[pop_total_nf$sit=='Urbana',"2000"]%>%pull(),
    urban2010=pop_total_nf[pop_total_nf$sit=='Urbana',"2010"]%>%pull(),
    rur2000=pop_total_nf[pop_total_nf$sit=='Rural',"2000"]%>%pull(),
    rur2010=pop_total_nf[pop_total_nf$sit=='Rural',"2010"]%>%pull()
  )
temp_text<-list(
    pop1970=format(temp_numeric$pop1970,big.mark = ".", decimal.mark = ",", nsmall = 0),
    pop2022=format(temp_numeric$pop2022,big.mark = ".", decimal.mark = ",", nsmall = 0)
)

temp_diff<-list(
  diff_1=temp_numeric$pop2022-temp_numeric$pop1970,
  diff_2=temp_numeric$pop2022-temp_numeric$pop2010,
  diff_3=temp_numeric$urban2010-temp_numeric$urban2000,
  diff_4=temp_numeric$rur2010-temp_numeric$rur2000
)

temp_diff_text<-list(
  diff_1=format(temp_diff$diff_1,big.mark = ".", decimal.mark = ",", nsmall = 0),
  diff_2=format(temp_diff$diff_2,big.mark = ".", decimal.mark = ",", nsmall = 0),
  diff_3=format(temp_diff$diff_3,big.mark = ".", decimal.mark = ",", nsmall = 0),
  diff_4=format(temp_diff$diff_4,big.mark = ".", decimal.mark = ",", nsmall = 0)
)


pop_total_nf%>%
  kbl() %>%
  kable_paper(full_width = F) %>%
  footnote(general = "Fonte: Censos Demográficos [@ibge2023]",
           general_title = "")
```

Entre 1970 e 2022, a população da Mesorregião Norte Fluminense (MRNF) passou de `r temp_text$pop1970` para `r temp_text$pop2022` pessoas, um incremento absoluto de `r temp_diff_text$diff_1` pessoas. De 2010 para Entre 1970 e 2022, a população da Mesorregião Norte Fluminense (MRNF) passou de `r temp_diff_text$pop1970` para `r temp_diff_text$pop2022` um incremento absoluto de `r temp_diff_text$diff_2` habitantes na região. Entre 2000 e 2010, a população urbana da região cresceu em termos absolutos `r temp_diff_text$diff_3` habitantes, enquanto a população rural diminuiu em `r temp_diff_text$diff_4` habitantes. Esse movimento reflete uma tendência de urbanização que pode ser observada em várias regiões do Brasil.

Um dos fatores que influenciou a alteração do balanço entre as populações urbana e rural foi a migração externa, que agregou população em núcleos urbanos da MRNF. A partir dos dados coletados, observou-se um expressivo crescimento do número de migrantes na MRNF. De acordo com o Censo Demográfico, residiam na região no ano de 2000, 15.328 imigrantes. Já o Censo de 2010 apontou 111.200 habitantes residentes na mesorregião naturais de outro estado ou de outras regiões do Estado do Rio de Janeiro, um acréscimo de 95.872 imigrantes nesse período. Esse fenômeno foi especialmente notável no município de Macaé, onde uma parte considerável desses imigrantes passou a residir. Cerca de 63% do número total de habitantes acrescidos entre 2000 e 2010 foram imigrantes.

## Crescimento Populacional

```{r}
rm_temp()
growthratio_brrjnf<-read_rds(here('data/processed','growthratio_brrjnf.rds'))%>%
  filter(ut_co %in% c(1,33,3302,3302403))

pop_brrjnf<-read_rds(here('data/processed','pop_brrjnf.rds'))%>%
  filter(ut_co %in% c(1,33,3302,3302403))

temp_numeric<-list(
    pop2000_macae=pop_brrjnf%>%
      filter(ut_co==3302403)%>%
      select(total2000)%>%
      pull(),
   pop2010_macae=pop_brrjnf%>%
      filter(ut_co==3302403)%>%
      select(total2010)%>%
      pull(),
   gr2010_2022_nf=growthratio_brrjnf%>%
     filter(ut_co==3302)%>%
     select(gr2010_2022)%>%
     pull(),
   gr2010_2022_br=growthratio_brrjnf%>%
     filter(ut_co==1)%>%
     select(gr2010_2022)%>%
     pull(),
   gr2010_2022_rj=growthratio_brrjnf%>%
     filter(ut_co==33)%>%
     select(gr2010_2022)%>%
     pull()
  )

temp_text<-list(
    pop2000_macae=format(temp_numeric$pop2000_macae,
                         big.mark = ".", decimal.mark = ",", nsmall = 0),
    pop2010_macae=format(temp_numeric$pop2010_macae,
                         big.mark = ".", decimal.mark = ",", nsmall = 0),
    gr2010_2022_rj=percent(temp_numeric$gr2010_2022_rj,
                                  big.mark = ".", 
                                  decimal.mark = ",",
                                  accuracy=0.01),
    gr2010_2022_nf=percent(temp_numeric$gr2010_2022_nf,
                                  big.mark = ".", 
                                  decimal.mark = ",",
                                  accuracy=0.01),
    gr2010_2022_br=percent(temp_numeric$gr2010_2022_br,
                                  big.mark = ".", 
                                  decimal.mark = ",",
                                  accuracy=0.01)
    )

temp_diff<-list(
  diff_1=temp_numeric$pop2010_macae-temp_numeric$pop2000_macae
)

temp_diff_text<-list(
  diff_1=format(temp_diff$diff_1,big.mark = ".", decimal.mark = ",", nsmall = 0)
)


growthratio_brrjnf%>%
  filter(ut_co != 3302403)%>%
  mutate(across(3:7,~percent_format(scale=100,
                                    big.mark = ".", 
                                    decimal.mark = ",")(.)))%>%
  kbl() %>%
  kable_paper(full_width = F) %>%
  footnote(general = "Fonte: Censos Demográficos [@ibge2023]",
           general_title = "")
```

A população da região aumentou a taxas mais relevantes a partir da década de **1980**, em decorrência das atividades de **exploração e produção de petróleo na Bacia de Campos**. Esse fenômeno contribuiu significativamente para a migração de pessoas para a região, com foco principalmente em **Macaé**, que viu sua população crescer de ```r temp_text$pop2000_macae``` habitantes em 2000 para ```r temp_text$pop2010_macae``` em 2010, registrando um acréscimo de ```r temp_diff_text$diff_1``` habitantes.

O crescimento populacional da região no período entre 2010 e 2022 (```r temp_text$gr2010_2022_nf```) foi similar ao crescimento da população brasileira (```r temp_text$gr2010_2022_br```). De forma comparativa, a região cresceu em um ritmo forte, se comparado com a população do estado do Rio de Janeiro, cujo crescimento foi próximo a zero (```r temp_text$gr2010_2022_rj```). Esse crescimento expressivo da população na região é um reflexo da imigração, seja em busca de trabalho ou por familiares acompanhando um migrante principal. Adiconalmente, o crescimento também é consequencia do efeito indireto da imigração que são os filhos dos migrantes que nasceram no destino e que não são captados como migrantes pelos censos.


O código fonte desta página está disponíveis no repositório [ghnaves/atlasnf_pop](https://github.com/ghnaves/atlasnf_pop) do Github

# Referências
